<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS 基础 | awesome-bookmarks</title>
    <meta name="description" content="个人收藏夹 beta">
    <link rel="icon" href="/awesome-bookmarks/favicon.ico">
    
    <link rel="preload" href="/awesome-bookmarks/assets/css/0.styles.6731ffee.css" as="style"><link rel="preload" href="/awesome-bookmarks/assets/js/app.0bd5a13c.js" as="script"><link rel="preload" href="/awesome-bookmarks/assets/js/45.9046517e.js" as="script"><link rel="prefetch" href="/awesome-bookmarks/assets/js/10.41c399fe.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/11.164e42ed.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/12.9453d91c.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/13.12105829.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/14.8b9f3546.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/15.69e612e9.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/16.64f3d1de.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/17.c2efbf6d.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/18.9b243133.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/19.7b54e1cd.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/2.00d0eedf.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/20.45ff5f72.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/21.47b19278.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/22.e0bb76d7.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/23.456cd7d2.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/24.f4ab25ff.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/25.622aeb6f.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/26.9e000f7e.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/27.372c3138.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/28.ae54bb5e.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/29.f3e61d00.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/3.95ee515d.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/30.dd83a7ae.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/31.009d9718.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/32.b8e26077.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/33.5516f1d3.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/34.50868b39.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/35.1c508060.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/36.d620bfff.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/37.0bb3c6cb.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/38.e3c5e8f2.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/39.3690702e.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/4.c856b79a.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/40.1be84efd.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/41.4e4c93a3.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/42.8dd1b95c.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/43.f4b62495.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/44.2934dc0f.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/46.659d84d6.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/47.8f46dde6.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/48.76ea6313.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/49.f584e2e9.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/5.0b2a809f.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/50.37d1feb1.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/51.d77eab85.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/52.4d911a94.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/53.d2734a27.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/54.c2528e9d.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/55.8452de18.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/56.de2c972e.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/57.85f1470f.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/58.3aab0905.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/59.69c7594d.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/6.01c62d70.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/60.c647479a.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/61.44ed31b5.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/62.16a6b4b3.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/63.533e2ce2.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/64.629fdf26.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/65.036f67ed.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/66.4f011ad2.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/67.2c1db338.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/7.54400708.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/8.a25c5f8c.js"><link rel="prefetch" href="/awesome-bookmarks/assets/js/9.eb967ef1.js">
    <link rel="stylesheet" href="/awesome-bookmarks/assets/css/0.styles.6731ffee.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/awesome-bookmarks/" class="home-link router-link-active"><!----> <span class="site-name">awesome-bookmarks</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/awesome-bookmarks/" class="nav-link">首页</a></div><div class="nav-item"><a href="/awesome-bookmarks/repository/" class="nav-link">库</a></div><div class="nav-item"><a href="/awesome-bookmarks/website/" class="nav-link">网站</a></div><div class="nav-item"><a href="/awesome-bookmarks/article/" class="nav-link">文章</a></div><div class="nav-item"><a href="/awesome-bookmarks/interview/" class="nav-link">面试</a></div><div class="nav-item"><a href="/awesome-bookmarks/blog/" class="nav-link router-link-active">Blog</a></div> <a href="https://github.com/PanJiaChen/awesome-bookmarks" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/awesome-bookmarks/" class="nav-link">首页</a></div><div class="nav-item"><a href="/awesome-bookmarks/repository/" class="nav-link">库</a></div><div class="nav-item"><a href="/awesome-bookmarks/website/" class="nav-link">网站</a></div><div class="nav-item"><a href="/awesome-bookmarks/article/" class="nav-link">文章</a></div><div class="nav-item"><a href="/awesome-bookmarks/interview/" class="nav-link">面试</a></div><div class="nav-item"><a href="/awesome-bookmarks/blog/" class="nav-link router-link-active">Blog</a></div> <a href="https://github.com/PanJiaChen/awesome-bookmarks" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Blog</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/awesome-bookmarks/blog/" class="sidebar-link">前言</a></li><li><a href="/awesome-bookmarks/blog/cs.html" class="sidebar-link">CS</a></li><li><a href="/awesome-bookmarks/blog/es6.html" class="sidebar-link">ES6</a></li><li><a href="/awesome-bookmarks/blog/fe.html" class="sidebar-link">前端</a></li><li><a href="/awesome-bookmarks/blog/google-developer.html" class="sidebar-link">读谷歌开发指南</a></li><li><a href="/awesome-bookmarks/blog/js.html" class="sidebar-link">Javascript</a></li><li><a href="/awesome-bookmarks/blog/other.html" class="sidebar-link">Other</a></li><li><a href="/awesome-bookmarks/blog/performance .html" class="sidebar-link">前端性能监控</a></li><li><a href="/awesome-bookmarks/blog/product.html" class="sidebar-link">产品</a></li><li><a href="/awesome-bookmarks/blog/talk.html" class="sidebar-link">Talk</a></li><li><a href="/awesome-bookmarks/blog/vue.html" class="sidebar-link">Vue</a></li><li><a href="/awesome-bookmarks/blog/webpack.html" class="sidebar-link">Webpack</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="js-基础"><a href="#js-基础" aria-hidden="true" class="header-anchor">#</a> JS 基础</h2> <h3 id="mouseenter-与-mouseover-区别"><a href="#mouseenter-与-mouseover-区别" aria-hidden="true" class="header-anchor">#</a> mouseenter 与 mouseover 区别</h3> <p>mouseenter 和 mouseleave 只有是 target element 的时候才会触发。 mouseover 和 mouseleave 会冒泡， 子元素也会触发。</p> <h3 id="e-target-与-e-currenttarget"><a href="#e-target-与-e-currenttarget" aria-hidden="true" class="header-anchor">#</a> e.target 与 e.currentTarget</h3> <p>e.target 指向触发事件监听的对象。</p> <p>e.currentTarget 指向添加监听事件的对象。</p> <h3 id="addeventlistener"><a href="#addeventlistener" aria-hidden="true" class="header-anchor">#</a> addEventListener</h3> <ul><li>内存泄漏问题，只有保持静态函数引用才能被 <code>removeEventListener</code> 移除。</li> <li>passive: 提升页面滑动的流畅度</li> <li>useCapture: 事件捕获阶段触发 handler</li> <li>once: 只触发一次</li></ul> <h3 id="dispatchevent"><a href="#dispatchevent" aria-hidden="true" class="header-anchor">#</a> dispatchEvent</h3> <p>通过 dispatchEvent <code>new CustomEvent('myEvent', {detail:123});</code> 来触发自定义事件</p> <p>注意 new Event('build') vs new CustomEvent('build')</p> <h3 id="jsonp-原理"><a href="#jsonp-原理" aria-hidden="true" class="header-anchor">#</a> JSONP 原理</h3> <ul><li>在使用 JSONP 的时候必须要保证使用的 JSONP 服务必须是安全可信的。会有安全问题</li> <li>JSONP 在调用失败的时候不会返回各种 HTTP 状态码</li> <li>JSONP 只支持 GET 请求而不支持 POST 等其它类型的 HTTP 请求。</li></ul> <h3 id="_7-中类型"><a href="#_7-中类型" aria-hidden="true" class="header-anchor">#</a> 7 中类型</h3> <p>Number 、Null、Undefined、String、 Boolean 、Object 、Symbol</p> <h3 id="原生对象"><a href="#原生对象" aria-hidden="true" class="header-anchor">#</a> 原生对象</h3> <p><img src="https://wpimg.wallstcn.com/5c2fdb22-51ca-4206-918d-042ad5dbee1f.png" alt></p> <h3 id="null-vs-undefined"><a href="#null-vs-undefined" aria-hidden="true" class="header-anchor">#</a> null vs undefined</h3> <ul><li><p>null 表示&quot;没有对象&quot;，即该处不应该有值
（1） 作为函数的参数，表示该函数的参数不是对象。
（2） 作为对象原型链的终点。</p></li> <li><p>undefined 表示&quot;缺少值&quot;，就是此处应该有一个值，但是还没有定义。
（1）变量被声明了，但没有赋值时，就等于 undefined。
（2) 调用函数时，应该提供的参数没有提供，该参数等于 undefined。
（3）对象没有赋值的属性，该属性的值为 undefined。
（4）函数没有返回值时，默认返回 undefined。</p></li></ul> <h3 id="为什么用-void-0-代替-undefined"><a href="#为什么用-void-0-代替-undefined" aria-hidden="true" class="header-anchor">#</a> 为什么用 void 0 代替 undefined</h3> <p>答案很简单，undefined 并不是保留词（reserved word），它只是全局对象的一个属性，在低版本 IE 中能被重写。
undefined 在 ES5 中已经是全局对象的一个只读（read-only）属性了，它不能被重写。但是在局部作用域中，还是可以被重写的。
那么，ES5 大环境下，void 0 就没有用武之地了吗？答案是否定的，用 void 0 代替 undefined 能节省不少字节的大小，事实上，不少 JavaScript 压缩工具在压缩过程中，正是将 undefined 用 void 0 代替掉了。不少基础库如 underscore、vue 都是用 void 0 的</p> <h3 id="charcodeat-vs-codepointat"><a href="#charcodeat-vs-codepointat" aria-hidden="true" class="header-anchor">#</a> charCodeAt vs codePointAt</h3> <p>JavaScript 内部，字符以 UTF-16 的格式储存，每个字符固定为 2 个字节。对于那些需要 4 个字节储存的字符（Unicode 码点大于 0xFFFF 的字符），JavaScript 会认为它们是两个字符。ES6 提供了 codePointAt()方法，能够正确处理 4 个字节储存的字符，返回一个字符的码点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">'𠮷a'</span>
s<span class="token punctuation">.</span><span class="token function">codePointAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 134071</span>
s<span class="token punctuation">.</span><span class="token function">codePointAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 57271</span>

s<span class="token punctuation">.</span><span class="token function">codePointAt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 97</span>
</code></pre></div><h3 id="精度问题"><a href="#精度问题" aria-hidden="true" class="header-anchor">#</a> 精度问题</h3> <h3 id="object-create-vs-new-function"><a href="#object-create-vs-new-function" aria-hidden="true" class="header-anchor">#</a> Object.create vs new Function</h3> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span> <span class="token operator">-</span> <span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> Number<span class="token punctuation">.</span><span class="token constant">EPSILON</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="类型判断"><a href="#类型判断" aria-hidden="true" class="header-anchor">#</a> 类型判断</h3> <h3 id="字符串有最大长度吗"><a href="#字符串有最大长度吗" aria-hidden="true" class="header-anchor">#</a> 字符串有最大长度吗</h3> <p>JS 字符串的长度受到下标限制。理论最大长度是 2^53-1（即 js 中可表达的最大安全整数）。</p> <h3 id="promise"><a href="#promise" aria-hidden="true" class="header-anchor">#</a> promise</h3> <h4 id="promise-resolve-一定是走-success-的么？"><a href="#promise-resolve-一定是走-success-的么？" aria-hidden="true" class="header-anchor">#</a> promise.resolve 一定是走 success 的么？</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'apple'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
p2<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'result'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error <span class="token operator">+</span> <span class="token string">'---error'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><h4 id="catch-的两种写法"><a href="#catch-的两种写法" aria-hidden="true" class="header-anchor">#</a> catch 的两种写法</h4> <p>Promise.prototype.catch 方法是.then(null, rejection)或.then(undefined, rejection)的别名，用于指定发生错误时的回调函数。</p> <h4 id="reject"><a href="#reject" aria-hidden="true" class="header-anchor">#</a> reject</h4> <p>reject 方法的作用，等同于抛出错误。
如果 Promise 状态已经变成 resolved，再抛出错误是无效的。
因为 Promise 的状态一旦改变，就永久保持该状态，不会再变了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'ok'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'apple'</span><span class="token punctuation">)</span> <span class="token comment">// 但还是会执行</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
promise
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// ok</span>
</code></pre></div><h4 id="allsettled-any"><a href="#allsettled-any" aria-hidden="true" class="header-anchor">#</a> allSettled,any</h4> <h4 id="generator"><a href="#generator" aria-hidden="true" class="header-anchor">#</a> generator</h4> <p>实现一个状态机</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">clock</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Tick!'</span><span class="token punctuation">)</span>
    <span class="token keyword">yield</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Tock!'</span><span class="token punctuation">)</span>
    <span class="token keyword">yield</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> g <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="协程与子例程的差异"><a href="#协程与子例程的差异" aria-hidden="true" class="header-anchor">#</a> 协程与子例程的差异</h4> <p>传统的“子例程”（subroutine）采用堆栈式“后进先出”的执行方式，只有当调用的子函数完全执行完毕，才会结束执行父函数。协程与其不同，多个线程（单线程情况下，即多个函数）可以并行执行，但是只有一个线程（或函数）处于正在运行的状态，其他线程（或函数）都处于暂停态（suspended），线程（或函数）之间可以交换执行权。也就是说，一个线程（或函数）执行到一半，可以暂停执行，将执行权交给另一个线程（或函数），等到稍后收回执行权的时候，再恢复执行。这种可以并行执行、交换执行权的线程（或函数），就称为协程。</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/PanJiaChen/awesome-bookmarks/edit/master/docs/blog/other/remember/js.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">6/12/2019, 3:57:03 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/awesome-bookmarks/assets/js/app.0bd5a13c.js" defer></script><script src="/awesome-bookmarks/assets/js/45.9046517e.js" defer></script>
  </body>
</html>
